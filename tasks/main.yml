---
- include: pyenv.yml
  tags:
    - pyenv

- name: Install python versions
  tags:
    - versions
  command: "{{ pyenv_root }}/bin/pyenv install {{ item }}"
  args:
    creates: "{{ pyenv_root }}/versions/{{ item }}"
  with_items: "{{ pyenv_versions }}"

- include: project.yml
  tags:
    - projects
  with_items: "{{ pyenv_project_versions }}"
  loop_control:
    loop_var: outer_project
